/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/Users/bazhenov/Work/_html/development/assets/js";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _app = __webpack_require__(/*! ./app */ 1);
	
	var _app2 = _interopRequireDefault(_app);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	document.addEventListener('DOMContentLoaded', function () {
	
		_app2.default.init();
	});

/***/ },
/* 1 */
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	
	exports.default = function (window, document, $) {
		console.log('run');
	
		var maxHeight = 650;
		var maxWidth = 1020;
	
		var isMobile = function () {
			if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) {
				return true;
			} else {
				return false;
			}
		}();
	
		function scrollMeTo() {
	
			var $header = $('#header');
	
			$('.js-goto').on('click', function (e) {
				var paddingTop = $(window).width() > maxWidth ? $header.outerHeight() : 0;
				var $target = $(this.href.replace(/^.*\#/, '#'));
	
				if ($target.length === 1) {
					e.preventDefault();
	
					$('body,html').animate({
						scrollTop: $target.offset().top - paddingTop,
						easing: 'ease-in'
					}, 500);
				};
			});
		};
	
		function header() {
			var $header = $('header');
	
			function fix() {
				var scrollTop = $(window).scrollTop();
				var showPosition = 200;
	
				if (scrollTop > 0 && scrollTop <= showPosition) {
					$header.addClass('header--hidden');
					$header.removeClass('header--scrolled');
				} else if (scrollTop > showPosition) {
					$header.addClass('header--scrolled');
					$header.removeClass('header--hidden');
				} else {
					$header.removeClass('header--scrolled');
					$header.removeClass('header--hidden');
				}
			}
			fix();
	
			$(document).on('scroll', fix);
		}
	
		function menu() {
			var $menuHrefs = $('.menu__href');
			var $sections = $('.section');
	
			var winHeight = window.innerHeight || document.documentElement.clientHeight;
	
			function setActive() {
				$sections.each(function (index, section) {
					var sectionId = $(this).attr('id');
					var rect = this.getBoundingClientRect();
					var rectTop = Math.round(rect.top);
					var rectBottom = Math.round(rect.bottom);
	
					if (rectTop <= 50 && rectBottom / 2 <= winHeight) {
						$menuHrefs.removeClass('active');
						$menuHrefs.filter('[href="#' + sectionId + '"]').addClass('active');
					}
				});
			}
			setActive();
	
			$(window).on('scroll', function (e) {
				setActive();
			});
	
			$(window).on('resize', function (e) {
				winHeight = window.innerHeight || document.documentElement.clientHeight;
				setActive();
			});
		}
	
		/*
	 	submit form
	 */
	
		function form() {
	
			$('form').each(function () {
	
				var $form = $(this);
				var $button = $form.find('button[type="submit"]');
				var $success = $form.find('.order-form__success');
	
				$success.hide();
	
				$form.on('submit', function (e) {
	
					e.preventDefault();
	
					var form = e.target;
	
					$button.text('Отправка данных...');
					$button.attr('disabled', true);
	
					$.ajax({
						url: $form.attr('action'),
						method: 'POST',
						data: $form.serialize(),
						dataType: 'json',
						success: function success(response) {
							console.log(response);
							$success.html('Спасибо! Ваша заявка была успешно отправлена!');
							$success.removeClass('order-form__success--error');
						},
						error: function error(xhr, ajaxOptions, _error) {
							console.log('Data could not be saved.' + _error.message);
							$success.addClass('order-form__success--error');
							$success.html('Ошибка сохранения данных, попробуйте еще раз. Если ошибка повторится - свяжитесь с нами.');
						},
						complete: function complete() {
							$success.show();
							$button.attr('disabled', false).text('Отправить заявку');
						}
					});
				});
			});
		}
	
		function init() {
	
			if (!isMobile) {
				header();
			}
	
			scrollMeTo();
			menu();
			form();
		}
	
		return {
			init: init
		};
	}(window, document, jQuery, undefined);

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZTE2ZTY5OTg2Y2JhZWVkODU1YTciLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdCIsIndpbmRvdyIsIiQiLCJjb25zb2xlIiwibG9nIiwibWF4SGVpZ2h0IiwibWF4V2lkdGgiLCJpc01vYmlsZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwic2Nyb2xsTWVUbyIsIiRoZWFkZXIiLCJvbiIsImUiLCJwYWRkaW5nVG9wIiwid2lkdGgiLCJvdXRlckhlaWdodCIsIiR0YXJnZXQiLCJocmVmIiwicmVwbGFjZSIsImxlbmd0aCIsInByZXZlbnREZWZhdWx0IiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImVhc2luZyIsImhlYWRlciIsImZpeCIsInNob3dQb3NpdGlvbiIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJtZW51IiwiJG1lbnVIcmVmcyIsIiRzZWN0aW9ucyIsIndpbkhlaWdodCIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0Iiwic2V0QWN0aXZlIiwiZWFjaCIsImluZGV4Iiwic2VjdGlvbiIsInNlY3Rpb25JZCIsImF0dHIiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVjdFRvcCIsIk1hdGgiLCJyb3VuZCIsInJlY3RCb3R0b20iLCJib3R0b20iLCJmaWx0ZXIiLCJmb3JtIiwiJGZvcm0iLCIkYnV0dG9uIiwiZmluZCIsIiRzdWNjZXNzIiwiaGlkZSIsInRhcmdldCIsInRleHQiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YSIsInNlcmlhbGl6ZSIsImRhdGFUeXBlIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiaHRtbCIsImVycm9yIiwieGhyIiwiYWpheE9w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LElBQVIsQ0FBYSxVQUFiLEVBQXlCLEtBQXpCLEVBQWdDZ0IsSUFBaEMsQ0FBcUMsa0JBQXJDO0FBQ0c7QUFuQkUsTUFBUDtBQXdCQSxLQWxDRDtBQW1DQSxJQTNDRDtBQTZDQTs7QUFFRCxXQUFTN0QsSUFBVCxHQUFlOztBQUVkLE9BQUksQ0FBQ08sUUFBTCxFQUFjO0FBQ2JxQjtBQUNBOztBQUVEakI7QUFDQXNCO0FBQ0FxQjtBQUNBOztBQUVELFNBQU87QUFDTnREO0FBRE0sR0FBUDtBQUlBLEVBeEtjLENBd0taQyxNQXhLWSxFQXdLSkgsUUF4S0ksRUF3S00rRSxNQXhLTixFQXdLY0MsU0F4S2QsQyIsImZpbGUiOiJsb2NhbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvVXNlcnMvYmF6aGVub3YvV29yay9faHRtbC9kZXZlbG9wbWVudC9hc3NldHMvanNcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIGUxNmU2OTk4NmNiYWVlZDg1NWE3XG4gKiovIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBhcHAgZnJvbSAnLi9hcHAnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuXG5cdGFwcC5pbml0KCk7XG5cbn0pOyAgIFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvanMvaW5kZXguanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCwgJCl7XG5cdGNvbnNvbGUubG9nKCdydW4nKTtcblxuXHR2YXIgbWF4SGVpZ2h0ID0gNjUwO1xuXHR2YXIgbWF4V2lkdGggPSAxMDIwO1xuXG5cdHZhciBpc01vYmlsZSA9IChmdW5jdGlvbigpIHsgXG5cdFx0aWYoIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSlcblx0XHR8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC93ZWJPUy9pKVxuXHRcdHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZS9pKVxuXHRcdHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQYWQvaSlcblx0XHR8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUG9kL2kpXG5cdFx0fHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKVxuXHRcdHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1dpbmRvd3MgUGhvbmUvaSlcblx0XHQpe1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0pKCk7XG5cblx0ZnVuY3Rpb24gc2Nyb2xsTWVUbygpe1xuXG5cdFx0XG5cdFx0Y29uc3QgJGhlYWRlciA9ICQoJyNoZWFkZXInKTtcblx0XHRcblx0XHQkKCcuanMtZ290bycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0Y29uc3QgcGFkZGluZ1RvcCA9ICQod2luZG93KS53aWR0aCgpID4gbWF4V2lkdGggPyAkaGVhZGVyLm91dGVySGVpZ2h0KCkgOiAwO1xuXHRcdFx0Y29uc3QgJHRhcmdldCA9ICQodGhpcy5ocmVmLnJlcGxhY2UoIC9eLipcXCMvLCAnIycgKSApO1xuXHRcdFx0XG5cdFx0XHRpZiAoJHRhcmdldC5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdCQoJ2JvZHksaHRtbCcpLmFuaW1hdGUoeyBcblx0XHRcdFx0XHRzY3JvbGxUb3A6ICR0YXJnZXQub2Zmc2V0KCkudG9wIC0gcGFkZGluZ1RvcCxcblx0XHRcdFx0XHRlYXNpbmc6ICdlYXNlLWluJ1xuXHRcdFx0XHR9LCA1MDApO1xuXHRcdFx0fTtcblx0XHR9KTtcblxuXHR9O1xuXG5cdGZ1bmN0aW9uIGhlYWRlcigpe1xuXHRcdGNvbnN0ICRoZWFkZXIgPSAkKCdoZWFkZXInKTtcblxuXG5cdFx0ZnVuY3Rpb24gZml4KCl7XG5cdFx0XHRjb25zdCBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cdFx0XHRjb25zdCBzaG93UG9zaXRpb24gPSAyMDA7XG5cblx0XHRcdGlmICggc2Nyb2xsVG9wID4gMCAmJiBzY3JvbGxUb3AgPD0gc2hvd1Bvc2l0aW9uICl7XG5cdFx0XHRcdCRoZWFkZXIuYWRkQ2xhc3MoJ2hlYWRlci0taGlkZGVuJyk7XG5cdFx0XHRcdCRoZWFkZXIucmVtb3ZlQ2xhc3MoJ2hlYWRlci0tc2Nyb2xsZWQnKTtcblx0XHRcdH1lbHNlIGlmICggc2Nyb2xsVG9wID4gc2hvd1Bvc2l0aW9uICl7XG5cdFx0XHRcdCRoZWFkZXIuYWRkQ2xhc3MoJ2hlYWRlci0tc2Nyb2xsZWQnKTtcblx0XHRcdFx0JGhlYWRlci5yZW1vdmVDbGFzcygnaGVhZGVyLS1oaWRkZW4nKTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkaGVhZGVyLnJlbW92ZUNsYXNzKCdoZWFkZXItLXNjcm9sbGVkJyk7XG5cdFx0XHRcdCRoZWFkZXIucmVtb3ZlQ2xhc3MoJ2hlYWRlci0taGlkZGVuJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZpeCgpO1xuXG5cdFx0JChkb2N1bWVudCkub24oJ3Njcm9sbCcsIGZpeCk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIG1lbnUoKXtcblx0XHR2YXIgJG1lbnVIcmVmcyA9ICQoJy5tZW51X19ocmVmJyk7XG5cdFx0dmFyICRzZWN0aW9ucyA9ICQoJy5zZWN0aW9uJyk7XG5cblx0XHR2YXIgd2luSGVpZ2h0ID0gKCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCApO1xuXG5cdFx0ZnVuY3Rpb24gc2V0QWN0aXZlKCl7XHRcdFx0XHRcdFx0XG5cdFx0XHQkc2VjdGlvbnMuZWFjaChmdW5jdGlvbihpbmRleCwgc2VjdGlvbil7XHRcdFx0XHRcblx0XHRcdFx0dmFyIHNlY3Rpb25JZCA9ICQodGhpcykuYXR0cignaWQnKTtcblx0XHRcdFx0dmFyIHJlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHR2YXIgcmVjdFRvcCA9IE1hdGgucm91bmQocmVjdC50b3ApO1xuXHRcdFx0XHR2YXIgcmVjdEJvdHRvbSA9IE1hdGgucm91bmQocmVjdC5ib3R0b20pO1xuXG5cdFx0XHRcdGlmIChyZWN0VG9wIDw9IDUwICYmIHJlY3RCb3R0b20gLyAyIDw9IHdpbkhlaWdodCApe1xuXHRcdFx0XHRcdCRtZW51SHJlZnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHRcdCRtZW51SHJlZnMuZmlsdGVyKCdbaHJlZj1cIiMnICsgc2VjdGlvbklkICsgJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHNldEFjdGl2ZSgpO1xuXG5cdFx0JCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbihlKXtcblx0XHRcdHNldEFjdGl2ZSgpO1xuXHRcdH0pO1xuXG5cdFx0JCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbihlKXtcblx0XHRcdHdpbkhlaWdodCA9ICggd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKTtcdFx0XHRcblx0XHRcdHNldEFjdGl2ZSgpO1xuXHRcdH0pO1xuXG5cdH1cblxuXHQvKlxuXHRcdHN1Ym1pdCBmb3JtXG5cdCovXG5cblx0ZnVuY3Rpb24gZm9ybSgpe1x0XHRcblxuXG5cdFx0JCgnZm9ybScpLmVhY2goIGZ1bmN0aW9uKCl7XG5cblx0XHRcdGNvbnN0ICRmb3JtID0gJCh0aGlzKTtcblx0XHRcdGNvbnN0ICRidXR0b24gPSAkZm9ybS5maW5kKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuXHRcdFx0Y29uc3QgJHN1Y2Nlc3MgPSAkZm9ybS5maW5kKCcub3JkZXItZm9ybV9fc3VjY2VzcycpO1xuXHRcdFx0XG5cdFx0XHQkc3VjY2Vzcy5oaWRlKCk7XG5cblx0XHRcdCRmb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbihlKXtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0Y29uc3QgZm9ybSA9IGUudGFyZ2V0O1xuXG5cblx0XHRcdFx0JGJ1dHRvbi50ZXh0KCfQntGC0L/RgNCw0LLQutCwINC00LDQvdC90YvRhS4uLicpO1xuXHRcdFx0XHQkYnV0dG9uLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cblx0XHRcdFx0JC5hamF4KHtcblx0XHRcdFx0XHR1cmw6ICRmb3JtLmF0dHIoJ2FjdGlvbicpLCBcblx0XHRcdFx0ICAgIG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHQgICAgZGF0YTogJGZvcm0uc2VyaWFsaXplKCksXG5cdFx0XHRcdCAgICBkYXRhVHlwZTogJ2pzb24nLFxuXHRcdFx0XHQgICAgc3VjY2VzczogZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0XHQgICAgXHRjb25zb2xlLmxvZyhyZXNwb25zZSk7XG5cdFx0XHRcdFx0XHQkc3VjY2Vzcy5odG1sKCfQodC/0LDRgdC40LHQviEg0JLQsNGI0LAg0LfQsNGP0LLQutCwINCx0YvQu9CwINGD0YHQv9C10YjQvdC+INC+0YLQv9GA0LDQstC70LXQvdCwIScpO1xuXHRcdFx0XHRcdFx0JHN1Y2Nlc3MucmVtb3ZlQ2xhc3MoJ29yZGVyLWZvcm1fX3N1Y2Nlc3MtLWVycm9yJyk7XHRcblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBhamF4T3B0aW9ucywgZXJyb3Ipe1xuXHRcdFx0XHQgICAgXHRjb25zb2xlLmxvZygnRGF0YSBjb3VsZCBub3QgYmUgc2F2ZWQuJyArIGVycm9yLm1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0JHN1Y2Nlc3MuYWRkQ2xhc3MoJ29yZGVyLWZvcm1fX3N1Y2Nlc3MtLWVycm9yJyk7XG5cdFx0XHRcdFx0XHQkc3VjY2Vzcy5odG1sKCfQntGI0LjQsdC60LAg0YHQvtGF0YDQsNC90LXQvdC40Y8g0LTQsNC90L3Ri9GFLCDQv9C+0L/RgNC+0LHRg9C50YLQtSDQtdGJ0LUg0YDQsNC3LiDQldGB0LvQuCDQvtGI0LjQsdC60LAg0L/QvtCy0YLQvtGA0LjRgtGB0Y8gLSDRgdCy0Y/QttC40YLQtdGB0Ywg0YEg0L3QsNC80LguJyk7XG5cblx0XHRcdFx0ICAgIH0sXG5cdFx0XHRcdCAgICBjb21wbGV0ZTogZnVuY3Rpb24oKXtcdFx0XHRcdFx0ICAgIFx0XG5cdFx0XHRcdCAgICBcdCRzdWNjZXNzLnNob3coKTtcblx0XHRcdFx0XHRcdCRidXR0b24uYXR0cignZGlzYWJsZWQnLCBmYWxzZSkudGV4dCgn0J7RgtC/0YDQsNCy0LjRgtGMINC30LDRj9Cy0LrRgycpO1x0XHRcdCAgICBcdFxuXHRcdFx0XHQgICAgfVxuXHRcdFx0XHR9KTtcdFx0XHRcdFxuXHRcdFx0XHRcblx0XHRcdFx0XG5cblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBpbml0KCl7XG5cblx0XHRpZiAoIWlzTW9iaWxlKXtcblx0XHRcdGhlYWRlcigpO1xuXHRcdH1cblxuXHRcdHNjcm9sbE1lVG8oKTtcblx0XHRtZW51KCk7XG5cdFx0Zm9ybSgpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRpbml0IFxuXHR9XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsIGpRdWVyeSwgdW5kZWZpbmVkKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL2FwcC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=